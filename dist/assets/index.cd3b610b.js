import{d as I,r as p,f as y,g,w as f,a as A,F as h,h as _,e as c,t as b,o as n}from"./index.2b4d45c6.js";const D={id:"scrollableDiv",class:"container"},S={class:"box"},x=I({__name:"index",setup(w){const u=p({list:"\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A\u554A",isScroll:!0}),l=y(null);g(()=>{setInterval(()=>{u.list+="\u5728"},100);var e=document.getElementById("scrollableDiv")||document.body;e.addEventListener("scroll",r),i()}),f(()=>u.isScroll,e=>{e?l.value=setInterval(()=>{var t=document.getElementById("scrollableDiv")||document.body;t.scrollTop=t.scrollHeight},100):clearInterval(l.value)},{immediate:!0});const r=()=>{var e=document.getElementById("scrollableDiv")||document.body;e.scrollTop+e.clientHeight>=e.scrollHeight-10?u.isScroll=!0:u.isScroll=!1},i=async()=>{try{const t=(await fetch("/api/application/chat_message/94dc9a22-7b06-11ef-8bc1-fefcfe44290d",{method:"POST",headers:{responseType:"stream","Content-Type":"application/json",Authorization:"eyJ1c2VybmFtZSI6Inh5MTAyMTIzNjgwMiIsImlkIjoiNmE0YzVhMjQtNzY1OS0xMWVmLTg0NWUtZmVmY2ZlNDQyOTBkIiwiZW1haWwiOiIiLCJwaG9uZSI6IjE4MDU2MDY3NjI1IiwidHlwZSI6IlVTRVIifQ:1syLvP:IkGwzjuvcyDz3aIxfJy1vARvYN8IfXedW4_iz58C--s"},body:JSON.stringify({message:"aaa"})})).body.getReader(),o=new TextDecoder;let a=!0;for(;a;){const{done:d,value:m}=await t.read();if(d){console.log("Stream ended"),a=!1;break}const s=o.decode(m);if(console.log("Received chunk:",JSON.parse(s)),s.startsWith("data: ")){const v=JSON.parse(s.substring(5));console.log(v)}}}catch(e){console.log(e)}};return(e,t)=>(n(),A("div",D,[(n(),A(h,null,_(30,o=>c("div",null,"111111111")),64)),c("div",S,b(u.list),1)]))}});export{x as default};
